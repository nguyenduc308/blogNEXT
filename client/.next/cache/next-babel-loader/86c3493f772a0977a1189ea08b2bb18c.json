{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/duclux/Desktop/NEXT SEO/client/components/crud/BlogList.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport { withRouter } from 'next/router';\nimport Link from 'next/link';\nimport { getCookie } from '../../actions/auth';\nimport { getCategories } from '../../actions/category';\nimport { getTags } from '../../actions/tag';\nimport { getBlogsForAd, deleteBlog } from '../../actions/blog';\n\nvar BlogList = function BlogList() {\n  var _useState = useState([]),\n      blogs = _useState[0],\n      setBlogs = _useState[1];\n\n  var _useState2 = useState(''),\n      msg = _useState2[0],\n      setMsg = _useState2[1];\n\n  var token = getCookie('token');\n\n  var loadBlogs = function loadBlogs() {\n    getBlogsForAd().then(function (data) {\n      if (data.error) {\n        setMsg(data.error);\n      } else {\n        setBlogs(data);\n      }\n    });\n  };\n\n  useEffect(function () {\n    loadBlogs();\n  }, []);\n\n  var confirmDelete = function confirmDelete(slug) {\n    var isConfirm = window.confirm('Are you sure ?');\n\n    if (isConfirm) {\n      deleteBlog(slug, token);\n    }\n  };\n\n  var showBlogs = function showBlogs() {\n    return blogs && blogs.map(function (blog, i) {\n      return __jsx(\"li\", {\n        className: \"mt-2 mb-2 pb-2\",\n        key: i,\n        style: {\n          borderBottom: '1px solid #ccc'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 20\n        }\n      }, __jsx(\"span\", {\n        className: \"btn btn-warning mr-1 ml-1\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }\n      }, \"Edit\"), __jsx(\"span\", {\n        className: \"btn btn-danger mr-3\",\n        onClick: function onClick() {\n          return confirmDelete(blog.slug);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, \"Delete\"), __jsx(Link, {\n        href: \"/\".concat(blog.slug),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, blog.title)), __jsx(\"span\", {\n        style: {\n          color: '#ccc'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }\n      }, \"Lastest update: \", blog.updatedAt));\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, showBlogs()));\n};\n\nexport default BlogList;","map":{"version":3,"sources":["/Users/duclux/Desktop/NEXT SEO/client/components/crud/BlogList.js"],"names":["useState","useEffect","withRouter","Link","getCookie","getCategories","getTags","getBlogsForAd","deleteBlog","BlogList","blogs","setBlogs","msg","setMsg","token","loadBlogs","then","data","error","confirmDelete","slug","isConfirm","window","confirm","showBlogs","map","blog","i","borderBottom","title","color","updatedAt"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAAyB,oBAAzB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,aAAT,EAAwBC,UAAxB,QAA0C,oBAA1C;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA,kBACOT,QAAQ,CAAC,EAAD,CADf;AAAA,MACZU,KADY;AAAA,MACLC,QADK;;AAAA,mBAEGX,QAAQ,CAAC,EAAD,CAFX;AAAA,MAEZY,GAFY;AAAA,MAEPC,MAFO;;AAGnB,MAAMC,KAAK,GAAGV,SAAS,CAAC,OAAD,CAAvB;;AACA,MAAMW,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBR,IAAAA,aAAa,GACRS,IADL,CACU,UAAAC,IAAI,EAAI;AACV,UAAGA,IAAI,CAACC,KAAR,EAAe;AACXL,QAAAA,MAAM,CAACI,IAAI,CAACC,KAAN,CAAN;AACH,OAFD,MAEO;AACHP,QAAAA,QAAQ,CAACM,IAAD,CAAR;AACH;AACJ,KAPL;AAQH,GATD;;AAUAhB,EAAAA,SAAS,CAAC,YAAK;AACXc,IAAAA,SAAS;AACZ,GAFQ,EAEP,EAFO,CAAT;;AAGA,MAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC5B,QAAMC,SAAS,GAAGC,MAAM,CAACC,OAAP,CAAe,gBAAf,CAAlB;;AACA,QAAGF,SAAH,EAAc;AACVb,MAAAA,UAAU,CAACY,IAAD,EAAON,KAAP,CAAV;AACH;AACJ,GALD;;AAMA,MAAMU,SAAS,GAAG,SAAZA,SAAY;AAAA,WACdd,KAAK,IAAIA,KAAK,CAACe,GAAN,CAAU,UAACC,IAAD,EAAMC,CAAN,EAAY;AAC3B,aAAO;AAAI,QAAA,SAAS,EAAC,gBAAd;AAA+B,QAAA,GAAG,EAAEA,CAApC;AAAuC,QAAA,KAAK,EAAE;AAACC,UAAAA,YAAY,EAAE;AAAf,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH;AAAM,QAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADG,EAEH;AACA,QAAA,SAAS,EAAC,qBADV;AAEA,QAAA,OAAO,EAAE;AAAA,iBAAKT,aAAa,CAACO,IAAI,CAACN,IAAN,CAAlB;AAAA,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFG,EAQH,MAAC,IAAD;AAAM,QAAA,IAAI,aAAMM,IAAI,CAACN,IAAX,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIM,IAAI,CAACG,KAAT,CADJ,CARG,EAWH;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAC;AAAP,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAA8CJ,IAAI,CAACK,SAAnD,CAXG,CAAP;AAaH,KAdQ,CADK;AAAA,GAAlB;;AAiBA,SAAO,4BACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,SAAS,EADd,CADG,CAAP;AAKH,CA7CD;;AA+CA,eAAef,QAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport { withRouter } from 'next/router'\nimport Link from 'next/link'\nimport { getCookie} from '../../actions/auth'\nimport { getCategories } from '../../actions/category'\nimport { getTags } from '../../actions/tag'\nimport { getBlogsForAd, deleteBlog } from '../../actions/blog'\nconst BlogList = () => {\n    const [blogs, setBlogs] = useState([])\n    const [msg, setMsg] = useState('')\n    const token = getCookie('token')\n    const loadBlogs = () => {\n        getBlogsForAd()\n            .then(data => {\n                if(data.error) {\n                    setMsg(data.error)\n                } else {\n                    setBlogs(data)\n                }\n            })\n    }\n    useEffect(()=> {\n        loadBlogs()\n    },[])\n    const confirmDelete = (slug) => {\n        const isConfirm = window.confirm('Are you sure ?')\n        if(isConfirm) {\n            deleteBlog(slug, token)\n        }\n    }\n    const showBlogs = () => (\n        blogs && blogs.map((blog,i) => {\n            return <li className=\"mt-2 mb-2 pb-2\" key={i} style={{borderBottom: '1px solid #ccc'}}>\n                <span className=\"btn btn-warning mr-1 ml-1\">Edit</span>\n                <span \n                className=\"btn btn-danger mr-3\"\n                onClick={()=> confirmDelete(blog.slug)}\n                >\n                    Delete\n                </span>\n                <Link href={`/${blog.slug}`}>\n                    <a>{blog.title}</a>\n                </Link>\n                <span style={{color:'#ccc'}}>Lastest update: {blog.updatedAt}</span>\n            </li>\n        })\n    )\n    return(<>\n        <ul>\n            {showBlogs()}\n        </ul>\n    </>)\n}\n\nexport default BlogList"]},"metadata":{},"sourceType":"module"}